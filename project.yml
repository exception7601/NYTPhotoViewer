name: NYTPhotoViewer

options:
  bundleIdPrefix: io.ucb.anderson
  tabWidth: 2
  usesTabs: false
  indentWidth: 2
  developmentLanguage: "en"
  deploymentTarget:
    iOS: 12.0
    macOS: 13.0

settings:
  DEVELOPMENT_TEAM: PN8K78V28P
  GENERATE_INFOPLIST_FILE: YES
  CURRENT_PROJECT_VERSION: 5.0.8
  MARKETING_VERSION: 1

targets:
  NYTPhotoViewer:
    platform: iOS
    type: framework
    sources:
      - path: NYTPhotoViewer/NYTPhotoViewer
        createIntermediateGroups: true
    settings:
      base:
        BUILD_LIBRARY_FOR_DISTRIBUTION: YES
        SKIP_INSTALL: YES
        SUPPORTED_PLATFORMS: "iphoneos iphonesimulator macosx"
        SUPPORTS_MACCATALYST: NO
        SUPPORTS_MAC_DESIGNED_FOR_IPHONE_IPAD: NO
        SUPPORTS_XR_DESIGNED_FOR_IPHONE_IPAD: NO
        TARGETED_DEVICE_FAMILY: 1

  NYTPhotoViewerTests:
    type: bundle.unit-test
    platform: iOS
    sources:
      - path: NYTPhotoViewer/UnitTests
        createIntermediateGroups: true

    dependencies:
      - target: NYTPhotoViewer

    settings:
      base:
        SUPPORTED_PLATFORMS: "iphoneos iphonesimulator macosx"
        TARGETED_DEVICE_FAMILY: "1,6,7"

  Host:
    type: application
    platform: iOS
    sources:
      - path: NYTPhotoViewer/Examples/Sources/Swift/
      - path: NYTPhotoViewer/Examples/Resources
        excludes: 
          - "**/Info.plist"

    dependencies:
      - framework: $(BUILT_PRODUCTS_DIR)/NYTPhotoViewer.framework
    settings:
      base:
        INFOPLIST_FILE: NYTPhotoViewer/Examples/Sources/Swift/Example-Swift.plist
        SUPPORTS_MACCATALYST: NO
        SUPPORTS_MAC_DESIGNED_FOR_IPHONE_IPAD: NO
        TARGETED_DEVICE_FAMILY: 1

